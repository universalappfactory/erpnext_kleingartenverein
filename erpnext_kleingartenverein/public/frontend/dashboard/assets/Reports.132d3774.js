var L=Object.defineProperty;var x=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var y=(r,t,e)=>t in r?L(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,u=(r,t)=>{for(var e in t||(t={}))B.call(t,e)&&y(r,e,t[e]);if(x)for(var e of x(t))E.call(t,e)&&y(r,e,t[e]);return r};var p=(r,t,e)=>new Promise((a,i)=>{var l=s=>{try{n(e.next(s))}catch(o){i(o)}},h=s=>{try{n(e.throw(s))}catch(o){i(o)}},n=s=>s.done?a(s.value):Promise.resolve(s.value).then(l,h);n((e=e.apply(r,t)).next())});import{S as b,e as I,_ as R,D as f,o as S,i as v,j,l as w,O as d,G as C,E as k,s as D,k as c,q as N,t as m,p as $,a3 as P,a4 as V}from"./vendor.fc7bbc5d.js";import{W as q}from"./Button.965d98f9.js";import{L as T}from"./ListComponent.8b782d30.js";import{_ as A}from"./PageHeadline.3397510c.js";function M(r){var n;const t=b([]),e=b({hasNext:!1,withError:!1}),a=I({doctype:r.docType,fields:["*"],orderBy:(n=r.oderBy)!=null?n:"",filters:r.filters,start:0,pageLength:20});function i(){return p(this,null,function*(){try{a.start=a.start-a.pageLength;const s=yield a.list.fetch();t.push(...s.map(o=>u({},o))),e.hasNext=a.hasNextPage}catch(s){console.error(s),e.withError=!0}})}function l(){return p(this,null,function*(){try{a.start=a.start+a.pageLength;const s=yield a.list.fetch();t.push(...s.map(o=>u({},o))),e.hasNext=a.hasNextPage}catch(s){console.error(s),e.withError=!0}})}return{fetch:()=>p(this,null,function*(){try{t.splice(0,t.length),yield a.list.fetch(),t.push(...a.data.map(s=>u({},s))),e.hasNext=a.hasNextPage}catch(s){console.error(s),e.withError=!0}}),previous:i,next:l,items:t,pageInfo:e}}const W=r=>(P("data-v-38bc4442"),r=r(),V(),r),z={class:"p-4 sm:ml-64"},G={class:"mt-6"},H={class:"flex p-4"},O={class:"grow"},F=["href"],J=W(()=>c("i",{class:"fa fa-external-link","aria-hidden":"true"},null,-1)),K=[J],Q=["href"],U={__name:"Reports",setup(r){f(0);const t=f(),e=f(""),{fetch:a,previous:i,next:l,items:h,pageInfo:n}=M({docType:"Report",filters:{_user_tags:["like","%Dashboard"]}});S(()=>p(this,null,function*(){yield a()}));const s=o=>{console.log("x",o.name),e.value=`/app/query-report/${o.name}`,t.value.click()};return(o,g)=>(v(),j("div",z,[w(A,{messageId:"reports.headline"}),d(n).withError?(v(),C(d(q),{key:0,type:"warning",class:"mb-2 mt-4"},{default:k(()=>[N(m(o.$t("new_letter.error_while_shipping")),1)]),_:1})):D("",!0),c("div",G,[w(T,{items:d(h),onShowDetails:s,hasNext:d(n).hasNext,onLoadMore:g[0]||(g[0]=_=>d(l)())},{item:k(({name:_})=>[c("div",H,[c("div",O,m(_),1),c("div",null,[c("a",{href:`/app/query-report/${_}`,target:"_blank",type:"button",class:$([o.mobile_no?"text-blue-700 hover:bg-blue-700 border border-blue-700  hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 ":"border border-gray-300  bg-gray-100","disabled:opacity-75 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center"])},K,10,F)])])]),_:1},8,["items","hasNext"]),N(" "+m(e.value)+"xxx ",1),c("a",{href:e.value,class:"hidden",target:"_blank",ref_key:"openLinkAnchor",ref:t},null,8,Q)])]))}};var se=R(U,[["__scopeId","data-v-38bc4442"]]);export{se as default};
