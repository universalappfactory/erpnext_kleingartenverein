import{T as C,C as L,F as N,L as B}from"./table.9955cb4f.js";import{N as D,u as j}from"./Navbar.0bb1bc79.js";import{b,_ as f,o,e as s,m as t,t as i,r as h,n as m,F as y,C as _,J as T,f as v,G as x,O as P,P as S,B as z,v as w,I as M,w as R,x as k,R as G,E as $}from"./vendor.0d1c2a14.js";import{d as V}from"./calendar.fb5ef44f.js";import{u as q}from"./main.2e076ff9.js";/* empty css              */const H=b({name:"paechterGrid",components:{},methods:{},props:{item:{type:Object,required:!0}},data(){}}),I={class:"grid grid-cols-2 md:grid-cols-4 px-4 py-4"},O=t("div",null,[t("svg",{class:"w-10 h-10 text-gray-200","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"})])],-1),F={class:"font-semibold"},Y={class:"block md:hidden"},E={class:"hidden md:block"};function U(e,n,d,u,l,g){return o(),s("div",I,[O,t("div",null,[t("div",F,i(e.item.name),1),t("div",null,i(e.item.plot_link),1),t("div",Y,i(e.item.email_id)+" "+i(e.item.mobile_no),1)]),t("div",E,i(e.item.email_id)+" "+i(e.item.mobile_no),1)])}var J=f(H,[["render",U]]);const K=b({name:"GridTable",components:{TableHead:C,PaechterGrid:J},methods:{executeLoadMore(){this.emit("loadMore")}},props:{items:{type:Object,required:!0},columns:{type:Object,required:!0},checkable:{type:Boolean,required:!1},hasActionDropDown:{type:Object,required:!1},hasNext:{type:Boolean,required:!1}},emits:{loadMore:()=>!0},data(){const e=!1,n=[{DisplayTitle:"P\xE4chter",Mode:L.Default,PropertyNames:[]}];return{isLoading:e,customColumns:n}},mounted(){},computed:{dataLoading(){return this.isLoading?"visible":"collapse"}}}),Q={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},W={class:"flex items-center justify-between py-4 bg-white dark:bg-gray-800"},X={key:0},Z=x('<button id="dropdownActionButton" data-dropdown-toggle="dropdownAction" class="inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-3 py-1.5 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700" type="button"><span class="sr-only">Action button</span> Action <svg class="w-3 h-3 ml-2" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><div id="dropdownAction" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600"><ul class="py-1 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownActionButton"><li><a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Reward</a></li><li><a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Promote</a></li><li><a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Activate account</a></li></ul><div class="py-1"><a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Delete User</a></div></div>',2),ee=[Z],te={key:1},re=x('<label for="table-search" class="sr-only">Search</label><div class="relative"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-5 h-5 text-gray-500 dark:text-gray-400" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg></div><input type="text" id="table-search-users" class="block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Search for users"></div>',2),ae={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},oe={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},se={key:0,scope:"col",class:"p-4"},ne=t("div",{class:"flex items-center"},[t("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),t("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")],-1),de=[ne],ie={key:0,class:"w-4 p-4"},le=t("div",{class:"flex items-center"},[t("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),t("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")],-1),ce=[le],ue={key:0,class:"flex items-center justify-center px-4 py-4","aria-label":"Table navigation"},ge=t("span",null,"Load more",-1),he=[ge];function me(e,n,d,u,l,g){const c=h("TableHead"),a=h("PaechterGrid");return o(),s("div",Q,[t("div",W,[e.hasActionDropDown?(o(),s("div",X,ee)):(o(),s("div",te,"\xA0")),re]),t("table",ae,[t("thead",oe,[t("tr",null,[e.checkable?(o(),s("th",se,de)):m("",!0),(o(!0),s(y,null,_(e.customColumns,r=>(o(),T(c,{key:r.DisplayTitle,name:r.DisplayTitle},null,8,["name"]))),128))])]),t("tbody",null,[(o(!0),s(y,null,_(e.items,r=>(o(),s("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",key:r.name},[e.checkable?(o(),s("td",ie,ce)):m("",!0),t("td",null,[v(a,{item:r},null,8,["item"])])]))),128))])]),e.hasNext?(o(),s("div",ue,[t("button",{type:"button",onClick:n[0]||(n[0]=r=>e.$emit("loadMore")),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"},he)])):m("",!0)])}var pe=f(K,[["render",me]]);const be=b({name:"Meeting Minutes",components:{NavbarComponent:D,FooterComponent:N,Dropdown:P,Alert:S,Button:z,GridTable:pe,ListComponent:B},setup(){const e=j(),n=q(),d=w({doctype:"Meeting Minutes",fields:["*"],start:0,pageLength:20,orderBy:"date desc"}),u=M([]),l=w({doctype:"Attachment table",fields:["*"],start:0,pageLength:20,url:"/api/method/erpnext_kleingartenverein.api.get_all"});d.fetch();const g=M([]),c=R({document_type_name:"Meeting Minutes",url:"/api/method/erpnext_kleingartenverein.api.get_read_info"});return k(d,a=>{let r=[];for(const p of a.data)r.push(p.name);l.filters=[["parent","IN",r]],l.fetch(),c.params={document_type_name:"Meeting Minutes",documents:r},c.fetch()}),k(l,a=>{if(a&&a.data)for(const r of a.data)u.value.push(r)}),k(c,a=>{if(a&&a.data)for(const r of a.data)g.value.push(r)}),{meetingMinutes:d,attachments:l,allAttachments:u,dashboard:e,store:n}},methods:{dateAsString(e){return V(e)},getAttachment(e){var n=this.allAttachments.find(d=>d.parent===e);if(n)return n.attachment},is_new(e){return this.store.isUnread(e)},markAsRead(e){console.log("YYYY"),this.dashboard.markAsRead("Meeting Minutes",e)}},mounted(){}}),fe={class:"p-4 sm:ml-64"},ye={class:"grid grid-cols-2 md:grid-cols-2 px-4 py-4 content-center"},ve={class:"font-semibold"},ke={key:0,class:"font-semibold inline-flex items-center px-2 ml-2 text-sm font-medium text-blue-800 bg-green-300 rounded"},_e=["href","onClick"],xe=t("svg",{"aria-hidden":"true",class:"w-4 h-4 mr-2 fill-current",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M2 9.5A3.5 3.5 0 005.5 13H9v2.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 15.586V13h2.5a4.5 4.5 0 10-.616-8.958 4.002 4.002 0 10-7.753 1.977A3.5 3.5 0 002 9.5zm9 3.5H9V8a1 1 0 012 0v5z","clip-rule":"evenodd"})],-1);function we(e,n,d,u,l,g){const c=h("NavbarComponent"),a=h("ListComponent");return o(),s(y,null,[v(c),t("div",fe,[v(a,{onLoadMore:e.meetingMinutes.next,items:e.meetingMinutes.data,checkable:!1,headerList:["Protokolle"],hasNext:e.meetingMinutes.hasNextPage},{item:G(({name:r,description:p,date:A})=>[t("div",ye,[t("div",null,[t("div",ve,[$(i(p)+" ",1),e.is_new(r)?(o(),s("span",ke," Ungelesen ")):m("",!0)]),t("div",null,i(e.dateAsString(new Date(A))),1)]),t("div",null,[t("a",{href:e.getAttachment(r),onClick:Me=>e.markAsRead(r),target:"_blank",class:"flex content-end"},[xe,$(" Download ")],8,_e)])])]),_:1},8,["onLoadMore","items","hasNext"])])],64)}var De=f(be,[["render",we]]);export{De as default};
