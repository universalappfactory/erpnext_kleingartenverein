var L=Object.defineProperty;var m=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var g=(a,t,e)=>t in a?L(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,u=(a,t)=>{for(var e in t||(t={}))N.call(t,e)&&g(a,e,t[e]);if(m)for(var e of m(t))B.call(t,e)&&g(a,e,t[e]);return a};var h=(a,t,e)=>new Promise((r,i)=>{var l=s=>{try{n(e.next(s))}catch(o){i(o)}},d=s=>{try{n(e.throw(s))}catch(o){i(o)}},n=s=>s.done?r(s.value):Promise.resolve(s.value).then(l,d);n((e=e.apply(a,t)).next())});import{H as x,e as E,_ as I,D as y,o as $,i as v,j as R,l as w,P as p,G as j,E as b,s as D,k as c,q as P,t as k,a3 as S,a4 as C}from"./vendor.daf37894.js";import{W as V}from"./Button.133825c3.js";import{L as q}from"./ListComponent.1ef96705.js";import{_ as T}from"./PageHeadline.ac7afaf2.js";function A(a){var n;const t=x([]),e=x({hasNext:!1,withError:!1}),r=E({doctype:a.docType,fields:["*"],orderBy:(n=a.oderBy)!=null?n:"",filters:a.filters,start:0,pageLength:20});function i(){return h(this,null,function*(){try{r.start=r.start-r.pageLength;const s=yield r.list.fetch();t.push(...s.map(o=>u({},o))),e.hasNext=r.hasNextPage}catch(s){console.error(s),e.withError=!0}})}function l(){return h(this,null,function*(){try{r.start=r.start+r.pageLength;const s=yield r.list.fetch();t.push(...s.map(o=>u({},o))),e.hasNext=r.hasNextPage}catch(s){console.error(s),e.withError=!0}})}return{fetch:()=>h(this,null,function*(){try{t.splice(0,t.length),yield r.list.fetch(),t.push(...r.data.map(s=>u({},s))),e.hasNext=r.hasNextPage}catch(s){console.error(s),e.withError=!0}}),previous:i,next:l,items:t,pageInfo:e}}const H=a=>(S("data-v-a10cbfe0"),a=a(),C(),a),M={class:"p-4 sm:ml-64"},W={class:"mt-6"},G={class:"flex p-4"},z={class:"grow"},F=["href"],J=H(()=>c("i",{class:"fa fa-external-link","aria-hidden":"true"},null,-1)),K=[J],O=["href"],Q={__name:"Reports",setup(a){const t=y(),e=y(""),{fetch:r,previous:i,next:l,items:d,pageInfo:n}=A({docType:"Report",filters:{_user_tags:["like","%Dashboard"]}});$(()=>h(this,null,function*(){yield r()}));const s=o=>{console.log("x",o.name),e.value=`${location.host}/app/query-report/${o.name}`,t.value.click()};return(o,_)=>(v(),R("div",M,[w(T,{messageId:"reports.headline"}),p(n).withError?(v(),j(p(V),{key:0,type:"warning",class:"mb-2 mt-4"},{default:b(()=>[P(k(o.$t("new_letter.error_while_shipping")),1)]),_:1})):D("",!0),c("div",W,[w(q,{items:p(d),onShowDetails:s,hasNext:p(n).hasNext,onLoadMore:_[0]||(_[0]=f=>p(l)()),headerList:[o.$t("reports.headline")]},{item:b(({name:f})=>[c("div",G,[c("div",z,k(f),1),c("div",null,[c("a",{href:`/app/query-report/${f}`,target:"_blank",type:"button",class:"text-blue-700 hover:bg-blue-700 border border-blue-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 disabled:opacity-75 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center"},K,8,F)])])]),_:1},8,["items","hasNext","headerList"]),c("a",{href:e.value,class:"hidden",target:"_blank",ref_key:"openLinkAnchor",ref:t},null,8,O)])]))}};var te=I(Q,[["__scopeId","data-v-a10cbfe0"]]);export{te as default};
