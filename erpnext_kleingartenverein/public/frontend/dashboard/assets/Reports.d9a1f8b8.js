var L=Object.defineProperty;var m=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var g=(r,t,e)=>t in r?L(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,u=(r,t)=>{for(var e in t||(t={}))N.call(t,e)&&g(r,e,t[e]);if(m)for(var e of m(t))B.call(t,e)&&g(r,e,t[e]);return r};var h=(r,t,e)=>new Promise((a,i)=>{var l=s=>{try{n(e.next(s))}catch(o){i(o)}},d=s=>{try{n(e.throw(s))}catch(o){i(o)}},n=s=>s.done?a(s.value):Promise.resolve(s.value).then(l,d);n((e=e.apply(r,t)).next())});import{H as x,e as E,_ as I,D as y,o as $,i as v,j as R,m as w,P as p,G as j,E as b,l as D,k as c,s as P,t as k,Y as S,Z as C}from"./vendor.fddf21c1.js";import{W as V}from"./Button.f813293b.js";import{L as T}from"./ListComponent.851f6679.js";import{_ as q}from"./PageHeadline.97666d50.js";function A(r){var n;const t=x([]),e=x({hasNext:!1,withError:!1}),a=E({doctype:r.docType,fields:["*"],orderBy:(n=r.oderBy)!=null?n:"",filters:r.filters,start:0,pageLength:20});function i(){return h(this,null,function*(){try{a.start=a.start-a.pageLength;const s=yield a.list.fetch();t.push(...s.map(o=>u({},o))),e.hasNext=a.hasNextPage}catch(s){console.error(s),e.withError=!0}})}function l(){return h(this,null,function*(){try{a.start=a.start+a.pageLength;const s=yield a.list.fetch();t.push(...s.map(o=>u({},o))),e.hasNext=a.hasNextPage}catch(s){console.error(s),e.withError=!0}})}return{fetch:()=>h(this,null,function*(){try{t.splice(0,t.length),yield a.list.fetch(),t.push(...a.data.map(s=>u({},s))),e.hasNext=a.hasNextPage}catch(s){console.error(s),e.withError=!0}}),previous:i,next:l,items:t,pageInfo:e}}const H=r=>(S("data-v-a10cbfe0"),r=r(),C(),r),M={class:"p-4 sm:ml-64"},W={class:"mt-6"},G={class:"flex p-4"},Y={class:"grow"},Z=["href"],z=H(()=>c("i",{class:"fa fa-external-link","aria-hidden":"true"},null,-1)),F=[z],J=["href"],K={__name:"Reports",setup(r){const t=y(),e=y(""),{fetch:a,previous:i,next:l,items:d,pageInfo:n}=A({docType:"Report",filters:{_user_tags:["like","%Dashboard"]}});$(()=>h(this,null,function*(){yield a()}));const s=o=>{console.log("x",o.name),e.value=`${location.host}/app/query-report/${o.name}`,t.value.click()};return(o,_)=>(v(),R("div",M,[w(q,{messageId:"reports.headline"}),p(n).withError?(v(),j(p(V),{key:0,type:"warning",class:"mb-2 mt-4"},{default:b(()=>[P(k(o.$t("new_letter.error_while_shipping")),1)]),_:1})):D("",!0),c("div",W,[w(T,{items:p(d),onShowDetails:s,hasNext:p(n).hasNext,onLoadMore:_[0]||(_[0]=f=>p(l)()),headerList:[o.$t("reports.headline")]},{item:b(({name:f})=>[c("div",G,[c("div",Y,k(f),1),c("div",null,[c("a",{href:`/app/query-report/${f}`,target:"_blank",type:"button",class:"text-blue-700 hover:bg-blue-700 border border-blue-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 disabled:opacity-75 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center"},F,8,Z)])])]),_:1},8,["items","hasNext","headerList"]),c("a",{href:e.value,class:"hidden",target:"_blank",ref_key:"openLinkAnchor",ref:t},null,8,J)])]))}};var te=I(K,[["__scopeId","data-v-a10cbfe0"]]);export{te as default};
