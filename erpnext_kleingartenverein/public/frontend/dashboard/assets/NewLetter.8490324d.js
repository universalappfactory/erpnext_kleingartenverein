var Fe=Object.defineProperty,He=Object.defineProperties;var Ke=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var oe=(s,e,t)=>e in s?Fe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,z=(s,e)=>{for(var t in e||(e={}))We.call(e,t)&&oe(s,t,e[t]);if(_e)for(var t of _e(e))Xe.call(e,t)&&oe(s,t,e[t]);return s},U=(s,e)=>He(s,Ke(e));var w=(s,e,t)=>(oe(s,typeof e!="symbol"?e+"":e,t),t),Ge=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var ae=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)};var ee=(s,e,t)=>(Ge(s,e,"access private method"),t);var Q=(s,e,t)=>new Promise((n,r)=>{var l=a=>{try{o(t.next(a))}catch(u){r(u)}},i=a=>{try{o(t.throw(a))}catch(u){r(u)}},o=a=>a.done?n(a.value):Promise.resolve(a.value).then(l,i);o((t=t.apply(s,e)).next())});import{h as A,J as ye,D as v,_ as P,r as R,i as x,j as y,l as L,E as j,k as d,t as C,K as $e,p as E,G as ce,H as Je,q as ue,F,m as te,s as H,$ as pe,ah as Ye,R as ve,ac as Te,ad as et,a9 as tt,N as K,e as Se,f as he,ai as nt,o as st,w as de}from"./vendor.01eb87fb.js";import{a as rt,T as it,u as Ce,b as lt,B as fe,I as ot,e as at,c as ct,W as ut,D as pt}from"./tenants.e5ffb93f.js";import{L as ze}from"./ListComponent.a88ff523.js";const ht=A({name:"TenantSelector",components:{ListComponent:ze,Dialog:ye,TenantEditor:rt,TenantSearchBar:it},setup(){const s=Ce(),e=lt(),t=v({});return{tenant:s,selectedCustomer:t,editor:e}},methods:{executeSearch(s){this.tenant.search(s)}},data(){return{showDialog:!1}},mounted(){this.tenant.fetch()}}),dt={class:"p-4 sm:ml-64"},ft={class:"flex p-4"},gt=d("div",{class:"grid grid-cols-2 content-center"},[d("div",{class:"grid items-center"},[d("input",{id:"default-checkbox",type:"checkbox",value:"",class:"h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})]),d("svg",{class:"w-10 h-10 text-gray-200","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"})])],-1),mt={class:"grow p-2"},kt={class:"font-semibold"},bt={class:"font-semibold"},wt=d("div",{class:"grid grid-cols-1 sm:grid-cols-3 gap-4 content-center"}," asd ",-1);function xt(s,e,t,n,r,l){const i=R("TenantSearchBar"),o=R("ListComponent");return x(),y("div",dt,[L(i,{onSearch:s.executeSearch,filters:s.tenant.filters,class:"mb-4"},null,8,["onSearch","filters"]),L(o,{onLoadMore:s.tenant.loadMore,items:s.tenant.tenants,checkable:!1,headerList:["P\xE4chter"],hasNext:s.tenant.pageInfo.hasNext},{item:j(({name:a,plot_link:u,email_id:p,mobile_no:g,customer_group:h})=>[d("div",ft,[gt,d("div",mt,[d("div",kt,C(a),1),d("div",bt,C(u),1),d("div",null,C(p),1),d("div",null,C(g),1)]),wt])]),_:1},8,["onLoadMore","items","hasNext"])])}var _t=P(ht,[["render",xt]]);const yt=A({name:"DropdownButton",props:{label:{type:String,default:()=>"Label"}},components:{Button:fe},setup(){const s=v(null),e=v(!1);return{dropDown:s,dropDownVisible:e}},methods:{openDropDown(s){console.log(this.dropDown),this.dropDownVisible=!this.dropDownVisible}}}),$t={class:"absolute border-2"};function vt(s,e,t,n,r,l){const i=R("Button");return x(),y("div",null,[L(i,{label:s.label,onClick:s.openDropDown},null,8,["label","onClick"]),d("div",{ref:"dropDown",class:E([s.dropDownVisible?"relative":"hidden","z-10 bg-red-100 rounded-lg dark:bg-gray-700"]),style:{}},[d("div",$t,[$e(s.$slots,"default")])],2)])}var Tt=P(yt,[["render",vt]]);const St=A({name:"LoadingIndicator",props:{isLoading:{type:Boolean,default:()=>!1,required:!0},centerPlacement:{type:Boolean,default:()=>!0,required:!1}},computed:{cssClass(){let s="";return this.isLoading||(s=s+"hidden"),this.centerPlacement&&(s=s+"absolute -translate-x-1/2 -translate-y-1/2 top-2/4 left-1/2"),s}}}),Ct=d("svg",{"aria-hidden":"true",class:"w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),d("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1),zt=d("span",{class:"sr-only"},"Loading...",-1),Rt=[Ct,zt];function Lt(s,e,t,n,r,l){return x(),y("div",{role:"status",class:E([s.cssClass,""])},Rt,2)}var Re=P(St,[["render",Lt]]);const It={class:"flex p-4"},Dt=d("div",{class:"grid grid-cols-2 content-center"},[d("svg",{class:"w-10 h-10 text-gray-200","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"})])],-1),Bt={class:"grow p-2"},At={class:"font-semibold"},Et={class:"font-semibold"},Vt={class:"min-h-[20vh]"},qt=A({__name:"TenantList",props:{items:{},hasNext:{}},emits:["loadMore","clicked"],setup(s,{emit:e}){return(t,n)=>(x(),ce(ze,{onLoadMore:n[0]||(n[0]=()=>this.loadMore()),items:t.items,checkable:!1,headerList:["P\xE4chter"],hasNext:t.hasNext,onShowDetails:n[1]||(n[1]=r=>t.$emit("clicked",r.name))},{item:j(({name:r,plot_link:l,email_id:i,mobile_no:o,customer_group:a,selected:u})=>[d("div",It,[Dt,d("div",Bt,[d("div",At,C(r),1),d("div",Et,C(l),1),d("div",null,C(i),1),d("div",null,C(o),1)])])]),empty:j(()=>[d("div",Vt,[L(Re,{isLoading:!0})])]),_:1},8,["items","hasNext"]))}}),Mt=A({name:"DropDownSearch",props:{label:{type:String,default:()=>"Label"},items:{type:Object,required:!0}},emits:{selected:()=>!0},components:{Button:fe,Dropdown:Je},setup(){const s=v(null),e=v(!1);return{dropDown:s,dropDownOpen:e}},methods:{toggleDropdown(){this.dropDownOpen=!this.dropDownOpen},itemSelected(s){this.$emit("selected",s),this.toggleDropdown()}}}),Pt={style:{position:"absolute"},class:"bg-white border-2 rounded-md py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownDefaultButton"},Zt=["onClick"];function jt(s,e,t,n,r,l){const i=R("Button");return x(),y(F,null,[L(i,{onClick:s.toggleDropdown,label:s.label},{default:j(()=>[ue(C(s.label),1)]),_:1},8,["onClick","label"]),d("div",{id:"dropdown",style:{"z-index":"1000",position:"relative"},class:E([s.dropDownOpen?"block":"hidden","bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700"])},[d("ul",Pt,[(x(!0),y(F,null,te(s.items,(o,a)=>(x(),y("li",null,[d("a",{onClick:u=>s.itemSelected(o),class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},C(o.label),9,Zt)]))),256))])],2)],64)}var Nt=P(Mt,[["render",jt]]);function ge(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let N=ge();function Le(s){N=s}const Ie=/[&<>"']/,Ot=new RegExp(Ie.source,"g"),De=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ut=new RegExp(De.source,"g"),Qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Be=s=>Qt[s];function I(s,e){if(e){if(Ie.test(s))return s.replace(Ot,Be)}else if(De.test(s))return s.replace(Ut,Be);return s}const Ft=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ht(s){return s.replace(Ft,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Kt=/(^|[^\[])\^/g;function k(s,e){s=typeof s=="string"?s:s.source,e=e||"";const t={replace:(n,r)=>(r=typeof r=="object"&&"source"in r?r.source:r,r=r.replace(Kt,"$1"),s=s.replace(n,r),t),getRegex:()=>new RegExp(s,e)};return t}function Ae(s){try{s=encodeURI(s).replace(/%25/g,"%")}catch(e){return null}return s}const ne={exec:()=>null};function Ee(s,e){const t=s.replace(/\|/g,(l,i,o)=>{let a=!1,u=i;for(;--u>=0&&o[u]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function me(s,e,t){const n=s.length;if(n===0)return"";let r=0;for(;r<n;){const l=s.charAt(n-r-1);if(l===e&&!t)r++;else if(l!==e&&t)r++;else break}return s.slice(0,n-r)}function Wt(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<s.length;n++)if(s[n]==="\\")n++;else if(s[n]===e[0])t++;else if(s[n]===e[1]&&(t--,t<0))return n;return-1}function Ve(s,e,t,n){const r=e.href,l=e.title?I(e.title):null,i=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:t,href:r,title:l,text:i,tokens:n.inlineTokens(i)};return n.state.inLink=!1,o}return{type:"image",raw:t,href:r,title:l,text:I(i)}}function Xt(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(r=>{const l=r.match(/^\s+/);if(l===null)return r;const[i]=l;return i.length>=n.length?r.slice(n.length):r}).join(`
`)}class se{constructor(e){w(this,"options");w(this,"rules");w(this,"lexer");this.options=e||N}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:me(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=Xt(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const r=me(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const l=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:l,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,l={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o="",a="",u=!1;for(;e;){let p=!1;if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let g=t[2].split(`
`,1)[0].replace(/^\t+/,D=>" ".repeat(3*D.length)),h=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,a=g.trimLeft()):(m=t[2].search(/[^ ]/),m=m>4?1:m,a=g.slice(m),m+=t[1].length);let T=!1;if(!g&&/^ *$/.test(h)&&(o+=h+`
`,e=e.substring(h.length+1),p=!0),!p){const D=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Z=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),G=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),J=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const M=e.split(`
`,1)[0];if(h=M,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),G.test(h)||J.test(h)||D.test(h)||Z.test(e))break;if(h.search(/[^ ]/)>=m||!h.trim())a+=`
`+h.slice(m);else{if(T||g.search(/[^ ]/)>=4||G.test(g)||J.test(g)||Z.test(g))break;a+=`
`+h}!T&&!h.trim()&&(T=!0),o+=M+`
`,e=e.substring(M.length+1),g=h.slice(m)}}l.loose||(u?l.loose=!0:/\n *\n *$/.test(o)&&(u=!0));let S=null,$;this.options.gfm&&(S=/^\[[ xX]\] /.exec(a),S&&($=S[0]!=="[ ] ",a=a.replace(/^\[[ xX]\] +/,""))),l.items.push({type:"list_item",raw:o,task:!!S,checked:$,loose:!1,text:a,tokens:[]}),l.raw+=o}l.items[l.items.length-1].raw=o.trimRight(),l.items[l.items.length-1].text=a.trimRight(),l.raw=l.raw.trimRight();for(let p=0;p<l.items.length;p++)if(this.lexer.state.top=!1,l.items[p].tokens=this.lexer.blockTokens(l.items[p].text,[]),!l.loose){const g=l.items[p].tokens.filter(m=>m.type==="space"),h=g.length>0&&g.some(m=>/\n.*\n/.test(m.raw));l.loose=h}if(l.loose)for(let p=0;p<l.items.length;p++)l.items[p].loose=!0;return l}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",l=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:l}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",raw:t[0],header:Ee(t[1]).map(r=>({text:r,tokens:[]})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){let r=n.align.length,l,i,o,a;for(l=0;l<r;l++){const u=n.align[l];u&&(/^ *-+: *$/.test(u)?n.align[l]="right":/^ *:-+: *$/.test(u)?n.align[l]="center":/^ *:-+ *$/.test(u)?n.align[l]="left":n.align[l]=null)}for(r=n.rows.length,l=0;l<r;l++)n.rows[l]=Ee(n.rows[l],n.header.length).map(u=>({text:u,tokens:[]}));for(r=n.header.length,i=0;i<r;i++)n.header[i].tokens=this.lexer.inline(n.header[i].text);for(r=n.rows.length,i=0;i<r;i++)for(a=n.rows[i],o=0;o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:I(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const i=me(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{const i=Wt(t[2],"()");if(i>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],l="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);i&&(r=i[1],l=i[3])}else l=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),Ve(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:l&&l.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return Ve(n,r,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const i=[...r[0]].length-1;let o,a,u=i,p=0;const g=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(g.lastIndex=0,t=t.slice(-1*e.length+i);(r=g.exec(t))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(a=[...o].length,r[3]||r[4]){u+=a;continue}else if((r[5]||r[6])&&i%3&&!((i+a)%3)){p+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+p);const h=[...e].slice(0,i+r.index+a+1).join("");if(Math.min(i,a)%2){const T=h.slice(1,-1);return{type:"em",raw:h,text:T,tokens:this.lexer.inlineTokens(T)}}const m=h.slice(2,-2);return{type:"strong",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const r=/[^ ]/.test(n),l=/^ /.test(n)&&/ $/.test(n);return r&&l&&(n=n.substring(1,n.length-1)),n=I(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=I(t[1]),r="mailto:"+n):(n=I(t[1]),r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=I(t[0]),r="mailto:"+n;else{let l;do l=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(l!==t[0]);n=I(t[0]),t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let n;return this.lexer.state.inRawBlock?n=t[0]:n=I(t[0]),{type:"text",raw:t[0],text:n}}}}const f={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ne,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};f._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;f._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;f.def=k(f.def).replace("label",f._label).replace("title",f._title).getRegex();f.bullet=/(?:[*+-]|\d{1,9}[.)])/;f.listItemStart=k(/^( *)(bull) */).replace("bull",f.bullet).getRegex();f.list=k(f.list).replace(/bull/g,f.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+f.def.source+")").getRegex();f._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";f._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;f.html=k(f.html,"i").replace("comment",f._comment).replace("tag",f._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();f.lheading=k(f.lheading).replace(/bull/g,f.bullet).getRegex();f.paragraph=k(f._paragraph).replace("hr",f.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",f._tag).getRegex();f.blockquote=k(f.blockquote).replace("paragraph",f.paragraph).getRegex();f.normal=z({},f);f.gfm=U(z({},f.normal),{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});f.gfm.table=k(f.gfm.table).replace("hr",f.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",f._tag).getRegex();f.gfm.paragraph=k(f._paragraph).replace("hr",f.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",f.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",f._tag).getRegex();f.pedantic=U(z({},f.normal),{html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",f._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ne,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(f.normal._paragraph).replace("hr",f.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",f.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const c={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ne,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ne,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};c._punctuation="\\p{P}$+<=>`^|~";c.punctuation=k(c.punctuation,"u").replace(/punctuation/g,c._punctuation).getRegex();c.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;c.anyPunctuation=/\\[punct]/g;c._escapes=/\\([punct])/g;c._comment=k(f._comment).replace("(?:-->|$)","-->").getRegex();c.emStrong.lDelim=k(c.emStrong.lDelim,"u").replace(/punct/g,c._punctuation).getRegex();c.emStrong.rDelimAst=k(c.emStrong.rDelimAst,"gu").replace(/punct/g,c._punctuation).getRegex();c.emStrong.rDelimUnd=k(c.emStrong.rDelimUnd,"gu").replace(/punct/g,c._punctuation).getRegex();c.anyPunctuation=k(c.anyPunctuation,"gu").replace(/punct/g,c._punctuation).getRegex();c._escapes=k(c._escapes,"gu").replace(/punct/g,c._punctuation).getRegex();c._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;c._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;c.autolink=k(c.autolink).replace("scheme",c._scheme).replace("email",c._email).getRegex();c._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;c.tag=k(c.tag).replace("comment",c._comment).replace("attribute",c._attribute).getRegex();c._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;c._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;c._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;c.link=k(c.link).replace("label",c._label).replace("href",c._href).replace("title",c._title).getRegex();c.reflink=k(c.reflink).replace("label",c._label).replace("ref",f._label).getRegex();c.nolink=k(c.nolink).replace("ref",f._label).getRegex();c.reflinkSearch=k(c.reflinkSearch,"g").replace("reflink",c.reflink).replace("nolink",c.nolink).getRegex();c.normal=z({},c);c.pedantic=U(z({},c.normal),{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",c._label).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",c._label).getRegex()});c.gfm=U(z({},c.normal),{escape:k(c.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});c.gfm.url=k(c.gfm.url,"i").replace("email",c.gfm._extended_email).getRegex();c.breaks=U(z({},c.gfm),{br:k(c.br).replace("{2,}","*").getRegex(),text:k(c.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class V{constructor(e){w(this,"tokens");w(this,"options");w(this,"state");w(this,"tokenizer");w(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||N,this.options.tokenizer=this.options.tokenizer||new se,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:f.normal,inline:c.normal};this.options.pedantic?(t.block=f.pedantic,t.inline=c.pedantic):this.options.gfm&&(t.block=f.gfm,this.options.breaks?t.inline=c.breaks:t.inline=c.gfm),this.tokenizer.rules=t}static get rules(){return{block:f,inline:c}}static lex(e,t){return new V(t).lex(e)}static lexInline(e,t){return new V(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,a,u)=>a+"    ".repeat(u.length));let n,r,l,i;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(l=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(p=>{u=p.call({lexer:this},a),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(l=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(l))){r=t[t.length-1],i&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),i=l.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,l,i=e,o,a,u;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)p.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,o.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(n=p.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,i,u)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}if(l=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const g=e.slice(1);let h;this.options.extensions.startInline.forEach(m=>{h=m.call({lexer:this},g),typeof h=="number"&&h>=0&&(p=Math.min(p,h))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(n=this.tokenizer.inlineText(l)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}}class re{constructor(e){w(this,"options");this.options=e||N}code(e,t,n){var l;const r=(l=(t||"").match(/^\S*/))==null?void 0:l[0];return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="language-'+I(r)+'">'+(n?e:I(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:I(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,n){const r=t?"ol":"ul",l=t&&n!==1?' start="'+n+'"':"";return"<"+r+l+`>
`+e+"</"+r+`>
`}listitem(e,t,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=Ae(e);if(r===null)return n;e=r;let l='<a href="'+e+'"';return t&&(l+=' title="'+t+'"'),l+=">"+n+"</a>",l}image(e,t,n){const r=Ae(e);if(r===null)return n;e=r;let l=`<img src="${e}" alt="${n}"`;return t&&(l+=` title="${t}"`),l+=">",l}text(e){return e}}class ke{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class q{constructor(e){w(this,"options");w(this,"renderer");w(this,"textRenderer");this.options=e||N,this.options.renderer=this.options.renderer||new re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ke}static parse(e,t){return new q(t).parse(e)}static parseInline(e,t){return new q(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const l=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const i=l,o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){n+=o||"";continue}}switch(l.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{const i=l;n+=this.renderer.heading(this.parseInline(i.tokens),i.depth,Ht(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=l;n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=l;let o="",a="";for(let p=0;p<i.header.length;p++)a+=this.renderer.tablecell(this.parseInline(i.header[p].tokens),{header:!0,align:i.align[p]});o+=this.renderer.tablerow(a);let u="";for(let p=0;p<i.rows.length;p++){const g=i.rows[p];a="";for(let h=0;h<g.length;h++)a+=this.renderer.tablecell(this.parseInline(g[h].tokens),{header:!1,align:i.align[h]});u+=this.renderer.tablerow(a)}n+=this.renderer.table(o,u);continue}case"blockquote":{const i=l,o=this.parse(i.tokens);n+=this.renderer.blockquote(o);continue}case"list":{const i=l,o=i.ordered,a=i.start,u=i.loose;let p="";for(let g=0;g<i.items.length;g++){const h=i.items[g],m=h.checked,T=h.task;let S="";if(h.task){const $=this.renderer.checkbox(!!m);u?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=$+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=$+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:$}):S+=$}S+=this.parse(h.tokens,u),p+=this.renderer.listitem(S,T,!!m)}n+=this.renderer.list(p,o,a);continue}case"html":{const i=l;n+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=l;n+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let i=l,o=i.tokens?this.parseInline(i.tokens):i.text;for(;r+1<e.length&&e[r+1].type==="text";)i=e[++r],o+=`
`+(i.tokens?this.parseInline(i.tokens):i.text);n+=t?this.renderer.paragraph(o):o;continue}default:{const i='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const l=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const i=this.options.extensions.renderers[l.type].call({parser:this},l);if(i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=i||"";continue}}switch(l.type){case"escape":{const i=l;n+=t.text(i.text);break}case"html":{const i=l;n+=t.html(i.text);break}case"link":{const i=l;n+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break}case"image":{const i=l;n+=t.image(i.href,i.title,i.text);break}case"strong":{const i=l;n+=t.strong(this.parseInline(i.tokens,t));break}case"em":{const i=l;n+=t.em(this.parseInline(i.tokens,t));break}case"codespan":{const i=l;n+=t.codespan(i.text);break}case"br":{n+=t.br();break}case"del":{const i=l;n+=t.del(this.parseInline(i.tokens,t));break}case"text":{const i=l;n+=t.text(i.text);break}default:{const i='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return n}}class W{constructor(e){w(this,"options");this.options=e||N}preprocess(e){return e}postprocess(e){return e}}w(W,"passThroughHooks",new Set(["preprocess","postprocess"]));var X,qe,ie,Jt;class Gt{constructor(...e){ae(this,X);ae(this,ie);w(this,"defaults",ge());w(this,"options",this.setOptions);w(this,"parse",ee(this,X,qe).call(this,V.lex,q.parse));w(this,"parseInline",ee(this,X,qe).call(this,V.lexInline,q.parseInline));w(this,"Parser",q);w(this,"parser",q.parse);w(this,"Renderer",re);w(this,"TextRenderer",ke);w(this,"Lexer",V);w(this,"lexer",V.lex);w(this,"Tokenizer",se);w(this,"Hooks",W);this.use(...e)}walkTokens(e,t){var r,l;let n=[];for(const i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{const o=i;for(const a of o.header)n=n.concat(this.walkTokens(a.tokens,t));for(const a of o.rows)for(const u of a)n=n.concat(this.walkTokens(u.tokens,t));break}case"list":{const o=i;n=n.concat(this.walkTokens(o.items,t));break}default:{const o=i;((l=(r=this.defaults.extensions)==null?void 0:r.childTokens)==null?void 0:l[o.type])?this.defaults.extensions.childTokens[o.type].forEach(a=>{n=n.concat(this.walkTokens(o[a],t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r=z({},n);if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const i=t.renderers[l.name];i?t.renderers[l.name]=function(...o){let a=l.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:t.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=t[l.level];i?i.unshift(l.tokenizer):t[l.level]=[l.tokenizer],l.start&&(l.level==="block"?t.startBlock?t.startBlock.push(l.start):t.startBlock=[l.start]:l.level==="inline"&&(t.startInline?t.startInline.push(l.start):t.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(t.childTokens[l.name]=l.childTokens)}),r.extensions=t),n.renderer){const l=this.defaults.renderer||new re(this.defaults);for(const i in n.renderer){const o=n.renderer[i],a=i,u=l[a];l[a]=(...p)=>{let g=o.apply(l,p);return g===!1&&(g=u.apply(l,p)),g||""}}r.renderer=l}if(n.tokenizer){const l=this.defaults.tokenizer||new se(this.defaults);for(const i in n.tokenizer){const o=n.tokenizer[i],a=i,u=l[a];l[a]=(...p)=>{let g=o.apply(l,p);return g===!1&&(g=u.apply(l,p)),g}}r.tokenizer=l}if(n.hooks){const l=this.defaults.hooks||new W;for(const i in n.hooks){const o=n.hooks[i],a=i,u=l[a];W.passThroughHooks.has(i)?l[a]=p=>{if(this.defaults.async)return Promise.resolve(o.call(l,p)).then(h=>u.call(l,h));const g=o.call(l,p);return u.call(l,g)}:l[a]=(...p)=>{let g=o.apply(l,p);return g===!1&&(g=u.apply(l,p)),g}}r.hooks=l}if(n.walkTokens){const l=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),l&&(a=a.concat(l.call(this,o))),a}}this.defaults=z(z({},this.defaults),r)}),this}setOptions(e){return this.defaults=z(z({},this.defaults),e),this}}X=new WeakSet,qe=function(e,t){return(n,r)=>{const l=z({},r),i=z(z({},this.defaults),l);this.defaults.async===!0&&l.async===!1&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const o=ee(this,ie,Jt).call(this,!!i.silent,!!i.async);if(typeof n=="undefined"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(o);try{i.hooks&&(n=i.hooks.preprocess(n));const a=e(n,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let u=t(a,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(a){return o(a)}}},ie=new WeakSet,Jt=function(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+I(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}};const O=new Gt;function _(s,e){return O.parse(s,e)}_.options=_.setOptions=function(s){return O.setOptions(s),_.defaults=O.defaults,Le(_.defaults),_};_.getDefaults=ge;_.defaults=N;_.use=function(...s){return O.use(...s),_.defaults=O.defaults,Le(_.defaults),_};_.walkTokens=function(s,e){return O.walkTokens(s,e)};_.parseInline=O.parseInline;_.Parser=q;_.parser=q.parse;_.Renderer=re;_.TextRenderer=ke;_.Lexer=V;_.lexer=V.lex;_.Tokenizer=se;_.Hooks=W;_.parse=_;q.parse;V.lex;const Yt=A({name:"Select",props:{disabled:{type:Boolean,default:()=>!1,required:!1},label:{type:String,default:()=>"Label",required:!1},placeholder:{type:String,default:()=>"Placeholder",required:!1},items:{type:Object,required:!0},selectedValue:{type:String,required:!1}},setup(s){return{currentValue:v("")}},emits:{itemSelected:()=>!0},methods:{isSelected(s){return this.items.findIndex(e=>e.description===s.description)>-1}},watch:{selectedValue:function(s){this.currentValue!==s&&(this.currentValue=s)},currentValue:function(s){const e=this.items.find(t=>t.value===s);this.$emit("itemSelected",e)}}}),en={class:"flex place-items-center"},tn={key:0,class:"block text-sm mr-2 align-middle font-medium text-gray-900 dark:text-white"},nn=["disabled"],sn={key:0,disabled:!0,selected:""},rn=["value","selected"];function ln(s,e,t,n,r,l){return x(),y("div",en,[s.label!==""?(x(),y("label",tn,C(s.label),1)):H("",!0),pe(d("select",{disabled:s.disabled,"onUpdate:modelValue":e[0]||(e[0]=i=>s.currentValue=i),class:"grow bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[s.placeholder!==""?(x(),y("option",sn,C(s.placeholder),1)):H("",!0),(x(!0),y(F,null,te(s.items,(i,o)=>(x(),y("option",{value:i.value,selected:s.isSelected(i)},C(i.description),9,rn))),256))],8,nn),[[Ye,s.currentValue]])])}var Me=P(Yt,[["render",ln]]);const on=A({name:"EditorComponent",props:{content:{type:String,default:()=>"Label",required:!0},placeholder:{type:String,default:()=>"Write some contents here"},templates:{type:Object,required:!0},hasError:{type:Boolean,default:()=>!1}},emits:{templateSelected:()=>!0,contentChanged:()=>!0},components:{Select:Me},setup(s){const e=v(!1),t=v(ve(s.content));return{preview:e,editorContent:t}},methods:{},watch:{editorContent:function(s){this.$emit("contentChanged",s)},content:function(s){this.editorContent!==s&&(this.editorContent=s)}},computed:{renderedContent:function(){return this.preview?_.parse(this.editorContent):""}}}),an={class:"flex items-center justify-between px-3 py-2 border-b"},cn={class:"flex flex-wrap items-center divide-gray-200 sm:divide-x"},un={class:"flex items-center space-x-1 sm:pr-4"},pn={type:"button",class:"p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100"},hn=d("span",{class:"sr-only"},"Show Preview",-1),dn={class:"h-full rounded-b-lg"},fn=["innerHTML"],gn=["placeholder"];function mn(s,e,t,n,r,l){const i=R("Select");return x(),y("div",{class:E(["w-full mb-4 border rounded-lg bg-gray-50",s.hasError?"border-red-400 border-2":"border-gray-200"])},[d("div",an,[d("div",cn,[d("div",un,[d("button",pn,[d("i",{class:E(["fa fa-eye",s.preview?"text-black":""]),onClick:e[0]||(e[0]=o=>this.preview=!this.preview),"aria-hidden":"true"},null,2),hn]),L(i,{items:s.templates,label:"",onItemSelected:e[1]||(e[1]=o=>this.$emit("templateSelected",o)),placeholder:s.$t("new_letter.select_template")},null,8,["items","placeholder"])])])]),d("div",dn,[s.preview?(x(),y("div",{key:0,class:"preview-markdown p-2 min-h-[5vh]",innerHTML:s.renderedContent},null,8,fn)):pe((x(),y("textarea",{key:1,id:"editor",class:"min-h-[50vh] inline-block h-full w-full p-1.5 bg-gray-50 text-sm text-gray-800 border-0","onUpdate:modelValue":e[2]||(e[2]=o=>s.editorContent=o),placeholder:s.placeholder,required:""},`
        `,8,gn)),[[Te,s.editorContent]])])],2)}var kn=P(on,[["render",mn]]);const bn=A({name:"LinkButton",props:{disabled:{type:Boolean,default:()=>!1},href:{type:String},label:{type:String,default:()=>"Label"},target:{type:String,default:()=>"_blank"}},emits:{clicked:()=>!0}}),wn=["href","target","disabled"];function xn(s,e,t,n,r,l){return x(),y("div",null,[d("a",{type:"button",href:s.disabled?"#":s.href,target:s.disabled?"":s.target,disabled:s.disabled,onClick:e[0]||(e[0]=i=>this.$emit("clicked")),class:E([s.disabled?"bg-gray-300":"bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300","text-white font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2"])},C(s.label),11,wn)])}var _n=P(bn,[["render",xn]]);const yn={class:"w-full"},$n=["placeholder"],vn={class:"absolute bg-red-100 w-full"},Tn=A({__name:"SearchInput",props:{modelValue:{},dropdownVisible:{},hasError:{},placeholder:{}},emits:["update:modelValue","enterPressed"],setup(s,{emit:e}){const t=v(""),n=v(null);return et(t,r=>{console.log("changed!",r),e("update:modelValue",r)},{throttle:1e3}),(r,l)=>(x(),y("div",yn,[pe(d("input",{ref_key:"inputText",ref:n,"onUpdate:modelValue":l[0]||(l[0]=i=>t.value=i),onKeyup:l[1]||(l[1]=tt(i=>{n.value.select(),r.$emit("enterPressed")},["enter"])),class:E(["w-full focus:outline-none border pb-1 border-l-0 border-r-0 border-t-0 border-b-2",r.hasError?"border-red-400":""]),placeholder:r.placeholder,type:"text"},null,42,$n),[[Te,t.value]]),d("div",{class:E(r.dropdownVisible?"relative":"hidden")},[d("div",vn,[$e(r.$slots,"default")])],2)]))}}),Sn=d("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[d("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Cn=[Sn],zn=A({__name:"CloseButton",emits:["close"],setup(s,{emit:e}){return(t,n)=>(x(),y("button",{onClick:n[0]||(n[0]=r=>this.$emit("close")),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg","data-modal-hide":"authentication-modal"},Cn))}});function Rn(){const s=K([]),e=K([]),t=v(""),n=v(!1),r={content:"",description:"Leer",value:""},i=K({hasNext:!1}),o=K(void 0);let a="";const u=v(!1),p=v(""),g=v(!1),h=v([]);let m=[],T="";const S=K({description:"",content:"",recepients:""}),$=Se({doctype:"Member Letter Template",fields:["*"],orderBy:"description asc",start:0,pageLength:20}),D=()=>{s.splice(0,s.length)},Z=he({url:"/api/method/erpnext_kleingartenverein.letter_api.print_letters"}),G=he({url:"/api/method/erpnext_kleingartenverein.letter_api.get_job_status"}),J=he({url:"/api/method/erpnext_kleingartenverein.letter_api.get_letters"}),M=Se({doctype:"Print Format",fields:["*"],orderBy:"name asc",filters:{doc_type:"Single Member Letter"},start:0,pageLength:20}),Pe=()=>Q(this,null,function*(){if(T!=="")try{const b=yield G.fetch({id:T});b==="finished"?(le(),T="",u.value=!1,n.value=!0,yield Ze()):b==="failed"&&(le(),T="",u.value=!1,g.value=!0)}catch(b){console.error(b),le()}}),Ze=()=>Q(this,null,function*(){try{const b=yield J.fetch({letters:m});h.value.splice(0,h.value.length),b&&b.length>0&&h.value.push(...b.map(B=>ve(B)))}catch(b){console.error(b)}}),{isActive:Fn,pause:le,resume:je}=nt(Pe,1e3,{immediate:!1});st(()=>{M.fetch(),n.value=!1});const Ne=(b,B)=>Q(this,null,function*(){if(!we(b)||u.value||T!=="")return;n.value=!1,g.value=!1,h.value.splice(0,h.value.length),u.value=!0;const xe={recipients:b,content:a,description:p.value,printFormat:t.value,isPreview:B};Z.reset();try{let Y=yield Z.fetch({data:xe});T=Y.id,m=Y.letters,je()}catch(Y){console.error(Y),u.value=!1,g.value=!0}});de(M,()=>{M.data&&(e.splice(0,e.length),e.push(...M.data.map(b=>({content:b.name,value:b.name,description:b.name}))),e.length>0&&(t.value=e[0].value))});const be=b=>b.map(B=>({value:B.name,description:B.name,content:B.content}));de($,()=>{if(i.hasNext=$.hasNextPage,$.data)if($.start===0){D();let b=be($.data);s.push(r),s.push(...b)}else s.push(r),s.push(...be($.data.slice($.start,$.start+$.pageLength)));else D()});function Oe(){$.fetch()}function Ue(b){a=b}const Qe=b=>{p.value=b},we=b=>{let B=!1;return p.value===""?(S.description="error",B=!0):S.description="success",a===""?(S.content="error",B=!0):S.content="success",!b||b.length<=0?(S.recepients="error",B=!0):S.recepients="success",!B};return{isValid:we,letterAttachments:h,submitError:g,processingFinished:n,validationStatus:S,templatesResource:$,fetchData:Oe,templates:s,selectedTemplate:o,contentChanged:Ue,isLoading:u,printLetters:Ne,description:p,printTemplates:e,selectedPrintTemplate:t,setDescription:Qe}}const Ln=A({name:"Home",data(){return{showDialog:!1,tenantSearchText:""}},setup(){const s=Rn(),e=Ce(),t=v(""),n=v(!1),r=v(),l=v(),i=[];return de(s.letterAttachments.value,o=>{o.length>0&&o[0].name.startsWith("Preview")&&(r.value.href=o[0].attachment,r.value.click())}),{tenant:e,letter:s,content:t,dropdownVisible:n,previewLink:r,openHref:l,attachments:i}},mounted(){this.letter.fetchData()},methods:{selectTenant(s){this.tenant.select(s),this.dropdownVisible=!1},selectAllTenants(){this.tenant.selectAll(),this.dropdownVisible=!1},tenantSearchTextChanged(s){this.tenant.searchText.value=s,this.dropdownVisible||(this.dropdownVisible=!0)},removeRecipient(s){this.tenant.unselect(s)},templateSelected(s){this.content=s.content},contentChanged(s){this.letter.contentChanged(s)},showPreview(){return Q(this,null,function*(){const s=this.tenant.selection.map(e=>e.name).splice(0,1);yield this.letter.printLetters(s,!0)})},printLetters(){return Q(this,null,function*(){const s=this.tenant.selection.map(e=>e.name);yield this.letter.printLetters(s,!1)})}},computed:{previewDisabled:function(){return this.content===""||this.tenant.selection.length===0}},components:{Dialog:ye,TenantSelector:_t,DropdownButton:Tt,TenantList:qt,DropDownlist:Nt,EditorComponent:kn,Button:fe,LoadingIndicator:Re,LinkButton:_n,InputField:ot,Select:Me,SearchInput:Tn,Badge:at,Input:ct,CloseButton:zn,Alert:ut,DownloadButton:pt}}),In={class:"p-4 sm:ml-64"},Dn={class:"grid grid-cols-1"},Bn={class:"text-2xl border-b-4 border-blue-400 pb-2"},An={class:"mt-6"},En={class:"pt-2 mt-6 pb-2"},Vn={class:"mb-2 font-semibold"},qn={class:"flex flex-wrap gap-2"},Mn={class:"border border-b-1 bg-gray-100 w-full min-w-[100%] max-h-[60vh] min-w-[30rem] overflow-scroll"},Pn={class:"flex min-h-[2rem] justify-end items-center pr-4"},Zn={class:"mt-4"},jn={class:"flex gap-4 items-center content-center"},Nn={class:"hidden",target:"_blank",ref:"previewLink"},On={key:0,class:"text-2xl fa fa-check text-green-400"},Un={key:1,class:"mt-4 min-h-[20vh]"};function Qn(s,e,t,n,r,l){const i=R("Alert"),o=R("Input"),a=R("Select"),u=R("Badge"),p=R("CloseButton"),g=R("TenantList"),h=R("SearchInput"),m=R("EditorComponent"),T=R("Button"),S=R("LoadingIndicator"),$=R("DownloadButton");return x(),y("div",In,[d("div",Dn,[d("p",Bn,C(s.$t("new_letter.headline")),1),s.letter.submitError.value?(x(),ce(i,{key:0,type:"warning",class:"mb-2 mt-4"},{default:j(()=>[ue(C(s.$t("new_letter.error_while_shipping")),1)]),_:1})):H("",!0),d("div",An,[L(o,{label:"",modelValue:s.letter.description.value,class:E(s.letter.validationStatus.description=="error"?"border-red-400":""),required:!0,"validation-status":s.letter.validationStatus.description,"onUpdate:modelValue":s.letter.setDescription,placeholder:s.$t("new_letter.letter_description")},null,8,["modelValue","class","validation-status","onUpdate:modelValue","placeholder"]),L(a,{label:"",selectedValue:s.letter.selectedPrintTemplate.value,class:"mt-2",placeholder:"",items:s.letter.printTemplates},null,8,["selectedValue","items"])]),d("div",En,[d("p",Vn,C(s.$t("new_letter.recipients")),1),d("div",qn,[(x(!0),y(F,null,te(s.tenant.selection,(D,Z)=>(x(),ce(u,{class:"p-1 whitespace-nowrap"},{default:j(()=>[ue(C(D.name),1)]),_:2},1024))),256))]),d("div",{class:E(s.tenant.selection.length>0?"mt-4":"mt-0")},[L(h,{class:"grow",placeholder:s.$t("new_letter.search_hint"),modelValue:"",dropdownVisible:s.dropdownVisible,hasError:s.letter.validationStatus.recepients==="error","onUpdate:modelValue":s.tenantSearchTextChanged,onEnterPressed:s.selectAllTenants},{default:j(()=>[d("div",Mn,[d("div",null,[d("div",Pn,[L(p,{onClick:e[0]||(e[0]=D=>s.dropdownVisible=!1),class:"h-2"})]),L(g,{onClicked:s.selectTenant,selectable:!0,items:s.tenant.tenants},null,8,["onClicked","items"])])])]),_:1},8,["placeholder","dropdownVisible","hasError","onUpdate:modelValue","onEnterPressed"])],2)]),d("div",Zn,[L(m,{onContentChanged:s.contentChanged,content:s.content,onTemplateSelected:s.templateSelected,templates:s.letter.templates,hasError:s.letter.validationStatus.content==="error"},null,8,["onContentChanged","content","onTemplateSelected","templates","hasError"])]),d("div",jn,[d("a",Nn,null,512),L(T,{onClicked:s.showPreview,label:s.$t("new_letter.show_preview")},null,8,["onClicked","label"]),L(T,{onClicked:s.printLetters,label:s.$t("new_letter.print_letters")},null,8,["onClicked","label"]),L(S,{isLoading:s.letter.isLoading.value,centerPlacement:!1},null,8,["isLoading"]),s.letter.letterAttachments.value.length>0?(x(),y("i",On)):H("",!0)]),s.letter.letterAttachments.value.length>0?(x(),y("div",Un,[d("ul",null,[(x(!0),y(F,null,te(s.letter.letterAttachments.value,(D,Z)=>(x(),y("li",null,[L($,{url:D.attachment,label:D.name},null,8,["url","label"])]))),256))])])):H("",!0)])])}var Gn=P(Ln,[["render",Qn]]);export{Gn as default};
