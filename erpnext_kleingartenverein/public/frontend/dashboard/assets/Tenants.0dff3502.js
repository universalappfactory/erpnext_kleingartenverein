var w=(e,o,a)=>new Promise((f,d)=>{var p=s=>{try{i(a.next(s))}catch(n){d(n)}},r=s=>{try{i(a.throw(s))}catch(n){d(n)}},i=s=>s.done?f(s.value):Promise.resolve(s.value).then(p,r);i((a=a.apply(e,o)).next())});import{F as T}from"./Footer.a2dd1a33.js";import{L as C}from"./ListComponent.8b782d30.js";import{T as x,a as L,u as M,b as j}from"./tenants.98ecd534.js";import{h as g,D as $,_,i as l,j as u,k as t,r as c,l as h,E as D,G as A,s as v,t as b,p as B,H as N,I as V,B as z,J as H}from"./vendor.fc7bbc5d.js";import"./Button.965d98f9.js";const F=g({name:"Checkbox",props:{selected:{type:Boolean,default:()=>!1,required:!0}},setup(){return{checkbox:$()}},methods:{changeSelection(){this.$emit("checkChanged",this.checkbox.checked)}},emits:{checkChanged:()=>!0}}),q={class:"grid items-center"},I=["value","checked"];function P(e,o,a,f,d,p){return l(),u("div",q,[t("input",{ref:"checkbox",type:"checkbox",value:e.selected,checked:e.selected,onClick:o[0]||(o[0]=(...r)=>e.changeSelection&&e.changeSelection(...r)),class:"h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,8,I)])}var G=_(F,[["render",P]]);const J=g({name:"TenantList",components:{TenantSearchBar:x,ListComponent:C,Checkbox:G},props:{showEditButton:{type:Boolean,default:()=>!1},showActions:{type:Boolean,default:()=>!1},selectable:{type:Boolean,default:()=>!1},tenant:{type:Object,required:!0}},emits:{loadMore:()=>!0,showDialog:()=>!0},mounted(){return w(this,null,function*(){yield this.tenant.fetch()})},methods:{executeSearch(e){this.tenant.search(e)},getMobileHref(e){return`tel:${e}`},getMailHref(e){return`mailto:${e}`},showDialog(e){this.showEditButton&&this.$emit("showDialog",e)},checkChanged(e,o){o?this.tenant.select(e):this.tenant.unselect(e)}}}),O={class:"overflow-y-scroll"},U={class:"flex p-4"},K={class:"grid grid-cols-2 content-center"},Q=t("svg",{class:"w-10 h-10 text-gray-200","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"})],-1),R={class:"grow p-2"},W={class:"font-semibold"},X={class:"font-semibold"},Y={key:0,class:"grid grid-cols-1 sm:grid-cols-3 gap-4 content-center"},Z=["href"],ee=t("i",{class:"fa fa-phone","aria-hidden":"true"},null,-1),te=t("span",{class:"sr-only"},"Phonecall",-1),oe=[ee,te],se=["href"],ne=t("i",{class:"fa fa-envelope","aria-hidden":"true"},null,-1),ae=t("span",{class:"sr-only"},"EMail",-1),re=[ne,ae],ie=["onClick"],le=t("i",{class:"fa fa-edit","aria-hidden":"true"},null,-1),ce=t("span",{class:"sr-only"},"Edit",-1),de=[le,ce];function ue(e,o,a,f,d,p){const r=c("TenantSearchBar"),i=c("Checkbox"),s=c("ListComponent");return l(),u("div",null,[t("div",null,[h(r,{onSearch:e.executeSearch,filters:e.tenant.filters,class:"mb-4"},null,8,["onSearch","filters"])]),t("div",O,[h(s,{onLoadMore:e.tenant.loadMore,items:e.tenant.tenants,checkable:!1,headerList:["P\xE4chter"],hasNext:e.tenant.pageInfo.hasNext,onShowDetails:o[0]||(o[0]=n=>this.showDialog(n.name))},{item:D(({name:n,plot_link:E,email_id:y,mobile_no:m,customer_group:be,selected:S})=>[t("div",U,[t("div",K,[e.selectable?(l(),A(i,{key:0,selected:S,onCheckChanged:k=>this.checkChanged(n,k)},null,8,["selected","onCheckChanged"])):v("",!0),Q]),t("div",R,[t("div",W,b(n),1),t("div",X,b(E),1),t("div",null,b(y),1),t("div",null,b(m),1)]),e.showActions?(l(),u("div",Y,[t("a",{href:e.getMobileHref(m),type:"button",class:B([m?"text-blue-700 hover:bg-blue-700 border border-blue-700  hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 ":"border border-gray-300  bg-gray-100","disabled:opacity-75 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center"])},oe,10,Z),t("a",{href:e.getMailHref(y),type:"button",class:B([m?"text-blue-700 hover:bg-blue-700 border border-blue-700  hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 ":"border border-gray-300  bg-gray-100","disabled:opacity-75 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center"])},re,10,se),e.showEditButton?(l(),u("button",{key:0,type:"button",onClick:k=>this.showDialog(n),class:"text-blue-700 border border-blue-700 hover:bg-blue-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:focus:ring-blue-800 dark:hover:bg-blue-500"},de,8,ie)):v("",!0)])):v("",!0)])]),_:1},8,["onLoadMore","items","hasNext"])])])}var he=_(J,[["render",ue]]);const fe=g({name:"paechter",components:{FooterComponent:T,Dropdown:N,Alert:V,Button:z,ListComponent:C,Dialog:H,TenantEditor:L,TenantSearchBar:x,TenantList:he},methods:{showDialog(e){this.selectedCustomer=e,this.bodyDialog=!0},closeEditor(){this.bodyDialog=!1}},setup(){const e=M(),o=j();return{selectedCustomer:$(""),editor:o,tenant:e}},data(){return{bodyDialog:!1}}}),pe={class:"p-4 sm:ml-64"};function me(e,o,a,f,d,p){const r=c("TenantEditor"),i=c("Dialog"),s=c("TenantList");return l(),u("div",pe,[h(i,{id:"tenant-dialog",modelValue:e.bodyDialog,"onUpdate:modelValue":o[0]||(o[0]=n=>e.bodyDialog=n),style:{"z-index":"300"}},{body:D(()=>[h(r,{class:"tenant-editor",item:e.selectedCustomer,onClose:e.closeEditor},null,8,["item","onClose"])]),_:1},8,["modelValue"]),h(s,{onShowDialog:e.showDialog,tenant:e.tenant,showEditButton:!0,showActions:!0},null,8,["onShowDialog","tenant"])])}var Ce=_(fe,[["render",me]]);export{Ce as default};
